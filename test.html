<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ - –í—ã—Å–æ–∫–æ–≤—Å–∫–∞—è —à–∫–æ–ª–∞ 25</title>
  <link rel="stylesheet" href="style.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
  <div class="container">
    <div class="telegram-header">
      <h1>–ó–∞–≥—Ä—É–∑–∫–∞ —Ç–µ—Å—Ç–∞...</h1>
    </div>

    <div class="section" id="student-info-section">
      <div class="section-title">
        <i class="fas fa-user-circle"></i> –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± —É—á–µ–Ω–∏–∫–µ
      </div>
      <div class="student-info">
        <div>
          <label for="student-name">–ò–º—è:</label>
          <input type="text" id="student-name" placeholder="–í–≤–µ–¥–∏—Ç–µ –≤–∞—à–µ –∏–º—è" />
        </div>
        <div>
          <label for="student-class">–ö–ª–∞—Å—Å:</label>
          <select id="student-class">
            <option value="">–í—ã–±–µ—Ä–∏—Ç–µ –∫–ª–∞—Å—Å</option>
            <option value="7">7 –∫–ª–∞—Å—Å</option>
            <option value="8">8 –∫–ª–∞—Å—Å</option>
            <option value="9">9 –∫–ª–∞—Å—Å</option>
            <option value="10">10 –∫–ª–∞—Å—Å</option>
            <option value="11">11 –∫–ª–∞—Å—Å</option>
          </select>
        </div>
      </div>
      <button class="start-test-btn" id="start-test-btn">
        <i class="fas fa-play-circle"></i> –ù–∞—á–∞—Ç—å –∫–æ–Ω—Ç—Ä–æ–ª—å–Ω—É—é
      </button>
    </div>

    <div id="test-content" style="display: none;">
      <div class="section">
        <div class="progress-container">
          <div class="progress-bar" id="progress-bar"></div>
        </div>
        <div class="progress-text" id="progress-text">–í–æ–ø—Ä–æ—Å 0 –∏–∑ 0</div>
      </div>

      <div class="section">
        <div class="question-container">
          <div class="question-type" id="question-type"></div>
          <div class="question-text" id="question-text"></div>
          <div class="options-container" id="options-container"></div>
          <button id="confirm-btn" disabled>
            <i class="fas fa-check-circle"></i> –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å –æ—Ç–≤–µ—Ç
          </button>
        </div>
      </div>

      <div id="results" style="display: none;">
        <h2><i class="fas fa-chart-bar"></i> –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –∫–æ–Ω—Ç—Ä–æ–ª—å–Ω–æ–π —Ä–∞–±–æ—Ç—ã</h2>
        <div class="score-display">–ù–∞–±—Ä–∞–Ω–æ –±–∞–ª–ª–æ–≤: <span id="score-value">0</span> –∏–∑ <span id="max-score">0</span></div>
        <div class="points-breakdown" id="points-breakdown"></div>
        <div class="grade-display">–û—Ü–µ–Ω–∫–∞: <span id="grade-value">‚Äî</span></div>
        <div id="telegram-status" style="margin-top: 20px; padding: 15px; background: #f8f9fa; border-radius: 10px;"></div>
      </div>
    </div>
  </div>

  <!-- –ü–æ–ª–Ω–æ—ç–∫—Ä–∞–Ω–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç -->
  <div id="fullscreen-result">
    <div class="fullscreen-content">
      <h2><i class="fas fa-trophy"></i> –í–∞—à —Ä–µ–∑—É–ª—å—Ç–∞—Ç</h2>
      <div class="fullscreen-grade" id="fullscreen-grade">5</div>
      <p style="margin: 15px 0; color: #666;">–ù–∞–±—Ä–∞–Ω–æ –±–∞–ª–ª–æ–≤: <span id="fullscreen-score">0</span> –∏–∑ <span id="fullscreen-max-score">0</span></p>
      <div id="fullscreen-breakdown" style="margin: 15px 0; color: #555; font-size: 14px;"></div>
      <button class="fullscreen-btn" id="finish-btn">
        <i class="fas fa-check"></i> –ó–∞–≤–µ—Ä—à–∏—Ç—å
      </button>
    </div>
  </div>

  <!-- –ê–Ω—Ç–∏—á–∏—Ç —Å–∏—Å—Ç–µ–º–∞ -->
  <div class="blocker-overlay" id="blockerOverlay"></div>
  <div class="anticheat-modal" id="anticheatModal">
    <div class="anticheat-title">üö® –ê–ù–¢–ò–ñ–£–õ–¨–ù–ò–ß–ê–¢–ï–õ–¨–ù–´–ô –†–ï–ñ–ò–ú üö®</div>
    <div class="anticheat-message" id="cheatMessage"></div>
    <div class="anticheat-timer" id="countdownTimer">03:00</div>
    <div class="password-input-container">
      <div class="password-label">–í–≤–µ–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å –¥–ª—è –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏—è:</div>
      <input type="text" class="password-input" id="passwordInput" 
             maxlength="4" inputmode="numeric" placeholder="0000">
    </div>
    <button class="continue-btn" id="continueBtn" disabled>–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å —Ç–µ—Å—Ç</button>
  </div>

  <!-- –°–∫—Ä–∏–ø—Ç –∑–∞–≥—Ä—É–∑–∫–∏ —Ç–µ—Å—Ç–∞ -->
  <script>
    // –ü–æ–ª—É—á–∞–µ–º –∏–º—è —Ç–µ—Å—Ç–∞ –∏–∑ URL
    const urlParams = new URLSearchParams(window.location.search);
    const testName = urlParams.get('test');
    
    // –ï—Å–ª–∏ —Ç–µ—Å—Ç –Ω–µ —É–∫–∞–∑–∞–Ω, –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –æ—à–∏–±–∫—É
    if (!testName) {
      document.querySelector('.telegram-header h1').textContent = '–û—à–∏–±–∫–∞: —Ç–µ—Å—Ç –Ω–µ —É–∫–∞–∑–∞–Ω';
      document.getElementById('student-info-section').innerHTML = `
        <div style="text-align: center; padding: 40px;">
          <i class="fas fa-exclamation-triangle" style="font-size: 48px; color: #f44336;"></i>
          <h3 style="color: #f44336; margin: 20px 0;">–¢–µ—Å—Ç –Ω–µ –Ω–∞–π–¥–µ–Ω</h3>
          <p>–í–µ—Ä–Ω–∏—Ç–µ—Å—å –Ω–∞ –≥–ª–∞–≤–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É –∏ –≤–≤–µ–¥–∏—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –∫–æ–¥ —Ç–µ—Å—Ç–∞.</p>
          <button onclick="window.location.href='../index.html'" 
                  style="background: #4b6cb7; color: white; border: none; padding: 12px 24px; 
                         border-radius: 8px; margin-top: 20px; cursor: pointer;">
            <i class="fas fa-arrow-left"></i> –í–µ—Ä–Ω—É—Ç—å—Å—è –Ω–∞ –≥–ª–∞–≤–Ω—É—é
          </button>
        </div>
      `;
    } else {
      // –ó–∞–≥—Ä—É–∂–∞–µ–º —Ñ–∞–π–ª —Ç–µ—Å—Ç–∞
      const script = document.createElement('script');
      script.src = `test/${testName}.js`;
      script.onload = function() {
        console.log(`‚úÖ –¢–µ—Å—Ç "${testName}" –∑–∞–≥—Ä—É–∂–µ–Ω —É—Å–ø–µ—à–Ω–æ`);
        // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∑–∞–≥–æ–ª–æ–≤–æ–∫
        document.querySelector('.telegram-header h1').textContent = window.TEST_CONFIG.title;
        // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π –±–∞–ª–ª
        document.getElementById('max-score').textContent = window.TEST_CONFIG.maxScore;
        document.getElementById('fullscreen-max-score').textContent = window.TEST_CONFIG.maxScore;
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º —Ç–µ—Å—Ç
        if (window.initTest) {
          window.initTest();
        }
      };
      script.onerror = function() {
        console.error(`‚ùå –û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ —Ç–µ—Å—Ç–∞ "${testName}"`);
        document.querySelector('.telegram-header h1').textContent = '–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ —Ç–µ—Å—Ç–∞';
        document.getElementById('student-info-section').innerHTML = `
          <div style="text-align: center; padding: 40px;">
            <i class="fas fa-times-circle" style="font-size: 48px; color: #f44336;"></i>
            <h3 style="color: #f44336; margin: 20px 0;">–¢–µ—Å—Ç –Ω–µ –Ω–∞–π–¥–µ–Ω</h3>
            <p>–§–∞–π–ª —Ç–µ—Å—Ç–∞ <strong>${testName}.js</strong> –Ω–µ –Ω–∞–π–¥–µ–Ω –≤ –ø–∞–ø–∫–µ test/</p>
            <p>–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å –∫–æ–¥–∞ —Ç–µ—Å—Ç–∞.</p>
            <button onclick="window.location.href='../index.html'" 
                    style="background: #4b6cb7; color: white; border: none; padding: 12px 24px; 
                           border-radius: 8px; margin-top: 20px; cursor: pointer;">
              <i class="fas fa-arrow-left"></i> –í–µ—Ä–Ω—É—Ç—å—Å—è –Ω–∞ –≥–ª–∞–≤–Ω—É—é
            </button>
          </div>
        `;
      };
      document.head.appendChild(script);
    }
  </script>

  <!-- –û—Å–Ω–æ–≤–Ω–æ–π —Å–∫—Ä–∏–ø—Ç -->
  <script src="script.js"></script>
</body>
</html>