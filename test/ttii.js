// ВСЕГДА используй window. для глобальных переменных
window.TEST_CONFIG = {
    title: "ТЕСТ: Основы алгоритмизации (8 класс)",
    totalQuestions: 18,
    totalProblems: 4,
    maxScore: 30,
    telegram: {
        botToken: "8344281396:AAGZ9-M2XRyPMHiI2akBSSIN7QAtRGDmLOY",
        chatId: "1189539923",
        parseMode: "Markdown",
        disableNotification: false
    },
    gradingScale: {
        5: 27,
        4: 21,
        3: 9,
        2: 0
    },
    anticheat: { password: "3265", blockTime: 180 },
    shuffleQuestions: true,
    shuffleOptions: true,
    showCorrectAnswer: true
};

// БАНК ВОПРОСОВ — 40 вопросов (больше чем 36 минимально)
window.questionsBank = [
    {
        text: "Что такое алгоритм?",
        options: [
            {t: "Последовательность шагов для решения задачи", v: "correct"},
            {t: "Математическая формула", v: "wrong"},
            {t: "Компьютерная программа", v: "wrong"},
            {t: "Набор случайных действий", v: "wrong"}
        ],
        points: 1
    },
    {
        text: "Какое из свойств алгоритма означает разделение на отдельные шаги?",
        options: [
            {t: "Дискретность", v: "correct"},
            {t: "Понятность", v: "wrong"},
            {t: "Определённость", v: "wrong"},
            {t: "Массовость", v: "wrong"}
        ],
        points: 1
    },
    {
        text: "Что такое исполнитель алгоритма?",
        options: [
            {t: "Объект, способный выполнять набор команд", v: "correct"},
            {t: "Человек, который придумал алгоритм", v: "wrong"},
            {t: "Компьютерная программа для рисования", v: "wrong"},
            {t: "Устройство для хранения данных", v: "wrong"}
        ],
        points: 1
    },
    {
        text: "Какое свойство алгоритма означает, что он должен приводить к результату за конечное число шагов?",
        options: [
            {t: "Результативность", v: "correct"},
            {t: "Массовость", v: "wrong"},
            {t: "Определённость", v: "wrong"},
            {t: "Дискретность", v: "wrong"}
        ],
        points: 1
    },
    {
        text: "Что такое формальный исполнитель?",
        options: [
            {t: "Исполнитель, который всегда одинаково выполняет одну и ту же команду", v: "correct"},
            {t: "Исполнитель в костюме", v: "wrong"},
            {t: "Исполнитель, который может менять команды", v: "wrong"},
            {t: "Исполнитель-человек", v: "wrong"}
        ],
        points: 1
    },
    {
        text: "Что такое СКИ?",
        options: [
            {t: "Система команд исполнителя", v: "correct"},
            {t: "Способ кодирования информации", v: "wrong"},
            {t: "Схема командных инструкций", v: "wrong"},
            {t: "Стандарт компьютерных интерфейсов", v: "wrong"}
        ],
        points: 1
    },
    {
        text: "Как называется запись алгоритма с помощью геометрических фигур?",
        options: [
            {t: "Блок-схема", v: "correct"},
            {t: "Словесное описание", v: "wrong"},
            {t: "Построчная запись", v: "wrong"},
            {t: "Алгоритмический язык", v: "wrong"}
        ],
        points: 1
    },
    {
        text: "Какой вид записи алгоритма является наименее формализованным?",
        options: [
            {t: "Словесное описание", v: "correct"},
            {t: "Блок-схема", v: "wrong"},
            {t: "Построчная запись", v: "wrong"},
            {t: "Алгоритмический язык", v: "wrong"}
        ],
        points: 1
    },
    {
        text: "Что такое величина в информатике?",
        options: [
            {t: "Отдельный информационный объект (число, символ, строка и др.)", v: "correct"},
            {t: "Размер файла", v: "wrong"},
            {t: "Количество информации", v: "wrong"},
            {t: "Математическая переменная", v: "wrong"}
        ],
        points: 1
    },
    {
        text: "Чем отличается константа от переменной?",
        options: [
            {t: "Константа не меняет значение, переменная — меняет", v: "correct"},
            {t: "Константа — это число, переменная — это текст", v: "wrong"},
            {t: "Константа больше по размеру", v: "wrong"},
            {t: "Константа используется только в математике", v: "wrong"}
        ],
        points: 1
    },
    {
        text: "Какой тип величины используется для хранения слов и текстов?",
        options: [
            {t: "Литерный (лит)", v: "correct"},
            {t: "Целый (цел)", v: "wrong"},
            {t: "Вещественный (вещ)", v: "wrong"},
            {t: "Логический (лог)", v: "wrong"}
        ],
        points: 1
    },
    {
        text: "Что такое команда присваивания?",
        options: [
            {t: "Операция, задающая значение переменной", v: "correct"},
            {t: "Команда для сложения чисел", v: "wrong"},
            {t: "Способ сравнения величин", v: "wrong"},
            {t: "Метод записи алгоритма", v: "wrong"}
        ],
        points: 1
    },
    {
        text: "Как записывается операция присваивания в алгоритмах?",
        options: [
            {t: ":=", v: "correct"},
            {t: "=", v: "wrong"},
            {t: "==", v: "wrong"},
            {t: "+=", v: "wrong"}
        ],
        points: 1
    },
    {
        text: "Какие три основные алгоритмические конструкции существуют?",
        options: [
            {t: "Следование, ветвление, повторение", v: "correct"},
            {t: "Ввод, обработка, вывод", v: "wrong"},
            {t: "Начало, середина, конец", v: "wrong"},
            {t: "Условие, действие, результат", v: "wrong"}
        ],
        points: 1
    },
    {
        text: "Как называются алгоритмы, в которых используется только последовательное выполнение команд?",
        options: [
            {t: "Линейные", v: "correct"},
            {t: "Разветвляющиеся", v: "wrong"},
            {t: "Циклические", v: "wrong"},
            {t: "Рекурсивные", v: "wrong"}
        ],
        points: 1
    },
    {
        text: "Что такое ветвление в алгоритмах?",
        options: [
            {t: "Выбор одной из двух последовательностей действий в зависимости от условия", v: "correct"},
            {t: "Повторение одних и тех же действий", v: "wrong"},
            {t: "Последовательное выполнение команд", v: "wrong"},
            {t: "Одновременное выполнение нескольких действий", v: "wrong"}
        ],
        points: 1
    },
    {
        text: "Как называется конструкция, в которой действия повторяются многократно?",
        options: [
            {t: "Цикл (повторение)", v: "correct"},
            {t: "Ветвление", v: "wrong"},
            {t: "Следование", v: "wrong"},
            {t: "Присваивание", v: "wrong"}
        ],
        points: 1
    },
    {
        text: "Что такое тело цикла?",
        options: [
            {t: "Последовательность действий, повторяющаяся в цикле", v: "correct"},
            {t: "Условие выхода из цикла", v: "wrong"},
            {t: "Название цикла", v: "wrong"},
            {t: "Количество повторений", v: "wrong"}
        ],
        points: 1
    },
    {
        text: "Какой блок на блок-схеме используется для проверки условия?",
        options: [
            {t: "Блок принятия решения (ромб)", v: "correct"},
            {t: "Блок начала/конца (овал)", v: "wrong"},
            {t: "Блок обработки (прямоугольник)", v: "wrong"},
            {t: "Блок ввода/вывода (параллелограмм)", v: "wrong"}
        ],
        points: 1
    },
    {
        text: "Что такое массив (табличная величина)?",
        options: [
            {t: "Набор однотипных элементов с одним именем", v: "correct"},
            {t: "Таблица умножения", v: "wrong"},
            {t: "Список различных объектов", v: "wrong"},
            {t: "Графическое представление данных", v: "wrong"}
        ],
        points: 1
    },
    {
        text: "Какой ученый предложил «решето Эратосфена»?",
        options: [
            {t: "Эратосфен (древнегреческий ученый)", v: "correct"},
            {t: "Евклид", v: "wrong"},
            {t: "Пифагор", v: "wrong"},
            {t: "Архимед", v: "wrong"}
        ],
        points: 1
    },
    {
        text: "Что означает свойство массовости алгоритма?",
        options: [
            {t: "Алгоритм применим для решения целого класса задач", v: "correct"},
            {t: "Алгоритм должен быть понятен многим людям", v: "wrong"},
            {t: "Алгоритм содержит много шагов", v: "wrong"},
            {t: "Алгоритм выполняется на мощном компьютере", v: "wrong"}
        ],
        points: 1
    },
    {
        text: "Какой режим работы исполнителя предполагает выполнение заранее заданной последовательности команд?",
        options: [
            {t: "Программное управление", v: "correct"},
            {t: "Непосредственное управление", v: "wrong"},
            {t: "Интерактивный режим", v: "wrong"},
            {t: "Диалоговый режим", v: "wrong"}
        ],
        points: 1
    },
    {
        text: "Что такое выражение в алгоритмизации?",
        options: [
            {t: "Языковая конструкция для вычисления значения", v: "correct"},
            {t: "Эмоциональная реакция на задачу", v: "wrong"},
            {t: "Способ записи алгоритма", v: "wrong"},
            {t: "Вид блок-схемы", v: "wrong"}
        ],
        points: 1
    },
    {
        text: "Какой тип величины может принимать только два значения: ИСТИНА или ЛОЖЬ?",
        options: [
            {t: "Логический (лог)", v: "correct"},
            {t: "Целый (цел)", v: "wrong"},
            {t: "Вещественный (вещ)", v: "wrong"},
            {t: "Литерный (лит)", v: "wrong"}
        ],
        points: 1
    },
    {
        text: "Что означает команда «нц пока ... кц»?",
        options: [
            {t: "Цикл с предусловием (пока условие истинно)", v: "correct"},
            {t: "Ветвление (если условие истинно)", v: "wrong"},
            {t: "Начало и конец алгоритма", v: "wrong"},
            {t: "Присваивание значения", v: "wrong"}
        ],
        points: 1
    },
    {
        text: "Что такое среда исполнителя?",
        options: [
            {t: "Область, условия, в которых действует исполнитель", v: "correct"},
            {t: "Программа для создания алгоритмов", v: "wrong"},
            {t: "Язык программирования", v: "wrong"},
            {t: "Набор всех возможных команд", v: "wrong"}
        ],
        points: 1
    },
    {
        text: "Как называется алгоритм нахождения наибольшего общего делителя?",
        options: [
            {t: "Алгоритм Евклида", v: "correct"},
            {t: "Алгоритм Эратосфена", v: "wrong"},
            {t: "Алгоритм Дейкстры", v: "wrong"},
            {t: "Алгоритм Маркова", v: "wrong"}
        ],
        points: 1
    },
    {
        text: "Какое из НЕ является свойством алгоритма?",
        options: [
            {t: "Случайность", v: "correct"},
            {t: "Дискретность", v: "wrong"},
            {t: "Определённость", v: "wrong"},
            {t: "Понятность", v: "wrong"}
        ],
        points: 1
    },
    {
        text: "Что такое линейная таблица?",
        options: [
            {t: "Одномерный массив (один столбец или строка)", v: "correct"},
            {t: "Таблица умножения", v: "wrong"},
            {t: "Двумерная таблица", v: "wrong"},
            {t: "График линейной функции", v: "wrong"}
        ],
        points: 1
    },
    {
        text: "Как называется величина, значение которой задается в тексте алгоритма и не меняется?",
        options: [
            {t: "Константа (постоянная)", v: "correct"},
            {t: "Переменная", v: "wrong"},
            {t: "Аргумент", v: "wrong"},
            {t: "Параметр", v: "wrong"}
        ],
        points: 1
    },
    {
        text: "Что означает операция «div» для целых чисел?",
        options: [
            {t: "Целое частное от деления", v: "correct"},
            {t: "Остаток от деления", v: "wrong"},
            {t: "Деление с округлением", v: "wrong"},
            {t: "Деление нацело", v: "wrong"}
        ],
        points: 1
    },
    {
        text: "Как называется повторяющаяся часть цикла?",
        options: [
            {t: "Тело цикла", v: "correct"},
            {t: "Заголовок цикла", v: "wrong"},
            {t: "Условие цикла", v: "wrong"},
            {t: "Счётчик цикла", v: "wrong"}
        ],
        points: 1
    },
    {
        text: "Какая конструкция используется, когда нужно выбрать из нескольких вариантов?",
        options: [
            {t: "Ветвление (если-иначе)", v: "correct"},
            {t: "Следование", v: "wrong"},
            {t: "Цикл", v: "wrong"},
            {t: "Присваивание", v: "wrong"}
        ],
        points: 1
    },
    {
        text: "Что такое индекс в табличной величине?",
        options: [
            {t: "Номер элемента в таблице", v: "correct"},
            {t: "Название таблицы", v: "wrong"},
            {t: "Тип данных в таблице", v: "wrong"},
            {t: "Количество элементов", v: "wrong"}
        ],
        points: 1
    },
    {
        text: "Какой язык является формальным языком для записи алгоритмов?",
        options: [
            {t: "Алгоритмический язык", v: "correct"},
            {t: "Разговорный язык", v: "wrong"},
            {t: "Английский язык", v: "wrong"},
            {t: "Математический язык", v: "wrong"}
        ],
        points: 1
    },
    {
        text: "Что такое «решето Эратосфена»?",
        options: [
            {t: "Алгоритм нахождения простых чисел", v: "correct"},
            {t: "Способ сортировки чисел", v: "wrong"},
            {t: "Метод рисования схем", v: "wrong"},
            {t: "Алгоритм шифрования", v: "wrong"}
        ],
        points: 1
    },
    {
        text: "Какое свойство гарантирует, что при одних и тех же входных данных алгоритм даст одинаковый результат?",
        options: [
            {t: "Определённость", v: "correct"},
            {t: "Массовость", v: "wrong"},
            {t: "Результативность", v: "wrong"},
            {t: "Дискретность", v: "wrong"}
        ],
        points: 1
    }
];

// БАНК ЗАДАЧ — 20 задач (больше чем 20 минимально) - ИСПРАВЛЕННЫЙ
window.problemsBank = [
    {
        text: "Исполнитель Вычислитель имеет команды: 1 — вычти 1, 2 — умножь на 3. Алгоритм 21212 применяется к числу 1. Какое число получится в результате?",
        options: [
            {t: "10", v: "wrong"},
            {t: "12", v: "wrong"},
            {t: "15", v: "correct"},
            {t: "18", v: "wrong"},
            {t: "9", v: "wrong"},
            {t: "13", v: "wrong"},
            {t: "14", v: "wrong"},
            {t: "16", v: "wrong"}
        ],
        points: 3
    },
    {
        text: "Черепашка выполняет алгоритм: Повтори 12 [Направо 45 Вперёд 20 Направо 45]. Какая фигура получится?",
        options: [
            {t: "Квадрат", v: "wrong"},
            {t: "Правильный восьмиугольник", v: "wrong"},
            {t: "Круг", v: "wrong"},
            {t: "Звезда", v: "correct"},
            {t: "Прямоугольник", v: "wrong"},
            {t: "Треугольник", v: "wrong"},
            {t: "Шестиугольник", v: "wrong"},
            {t: "Спираль", v: "wrong"}
        ],
        points: 3
    },
    {
        text: "Дано: A = 5, B = 3. Выполняется алгоритм: M := A; A := B; B := M. Какие значения будут у A и B после выполнения?",
        options: [
            {t: "A=3, B=5", v: "correct"},
            {t: "A=5, B=3", v: "wrong"},
            {t: "A=5, B=5", v: "wrong"},
            {t: "A=3, B=3", v: "wrong"},
            {t: "A=8, B=8", v: "wrong"},
            {t: "A=2, B=2", v: "wrong"},
            {t: "A=4, B=4", v: "wrong"},
            {t: "A=0, B=0", v: "wrong"}
        ],
        points: 3
    },
    {
        text: "Исполнитель Робот начинает в клетке A. Выполняется алгоритм: 32323 (1-вверх, 2-вниз, 3-вправо, 4-влево). В какую клетку он попадет? (A слева, B справа, между ними стена посередине)",
        options: [
            {t: "Останется в A", v: "wrong"},
            {t: "Попадет в B", v: "wrong"},
            {t: "Разрушится о стену", v: "correct"},
            {t: "Выйдет за пределы поля", v: "wrong"},
            {t: "Будет в клетке над A", v: "wrong"},
            {t: "Будет в клетке под A", v: "wrong"},
            {t: "Будет в клетке левее A", v: "wrong"},
            {t: "Вернется в A через 2 шага", v: "wrong"}
        ],
        points: 3
    },
    {
        text: "Алгоритм преобразует цепочку символов: вычисляется длина, если нечётна — дописывается 1, символы попарно меняются местами, дописывается 2. Исходная цепочка: 'ABC'. Что получится?",
        options: [
            {t: "BAC2", v: "wrong"},
            {t: "CBA12", v: "wrong"},
            {t: "BA1C2", v: "correct"},
            {t: "ABC12", v: "wrong"},
            {t: "ACB2", v: "wrong"},
            {t: "BCA2", v: "wrong"},
            {t: "CAB2", v: "wrong"},
            {t: "BAC12", v: "wrong"}
        ],
        points: 3
    },
    {
        text: "Черепашка выполняет: Повтори 8 [Направо 45 Вперёд 45]. Какая фигура?",
        options: [
            {t: "Квадрат", v: "wrong"},
            {t: "Правильный восьмиугольник", v: "correct"},
            {t: "Звезда", v: "wrong"},
            {t: "Окружность", v: "wrong"},
            {t: "Прямая линия", v: "wrong"},
            {t: "Треугольник", v: "wrong"},
            {t: "Спираль", v: "wrong"},
            {t: "Прямоугольник", v: "wrong"}
        ],
        points: 3
    },
    {
        text: "Исполнитель Конструктор: 1 — приписать 2, 2 — разделить на 2. Алгоритм 22212 применяется к числу 8. Что получится?",
        options: [
            {t: "1", v: "wrong"},
            {t: "2", v: "wrong"},
            {t: "4", v: "wrong"},
            {t: "6", v: "correct"},
            {t: "8", v: "wrong"},
            {t: "16", v: "wrong"},
            {t: "0.5", v: "wrong"},
            {t: "0.25", v: "wrong"}
        ],
        points: 3
    },
    {
        text: "Переменные: X=2, Y=3. Выполняется: X:=X+Y; Y:=X-Y; X:=X-Y. Какие значения после выполнения?",
        options: [
            {t: "X=3, Y=2", v: "correct"},
            {t: "X=2, Y=3", v: "wrong"},
            {t: "X=5, Y=2", v: "wrong"},
            {t: "X=3, Y=5", v: "wrong"},
            {t: "X=5, Y=3", v: "wrong"},
            {t: "X=1, Y=1", v: "wrong"},
            {t: "X=0, Y=0", v: "wrong"},
            {t: "X=6, Y=6", v: "wrong"}
        ],
        points: 3
    },
    {
        text: "Алгоритм: если число > 10, то уменьшить на 5, иначе увеличить на 5. Какое число получится из 8?",
        options: [
            {t: "3", v: "wrong"},
            {t: "13", v: "correct"},
            {t: "8", v: "wrong"},
            {t: "15", v: "wrong"},
            {t: "5", v: "wrong"},
            {t: "10", v: "wrong"},
            {t: "18", v: "wrong"},
            {t: "0", v: "wrong"}
        ],
        points: 3
    },
    {
        text: "Сколько простых чисел в диапазоне от 2 до 20 включительно? (решето Эратосфена)",
        options: [
            {t: "6", v: "wrong"},
            {t: "7", v: "wrong"},
            {t: "8", v: "correct"},
            {t: "9", v: "wrong"},
            {t: "5", v: "wrong"},
            {t: "10", v: "wrong"},
            {t: "11", v: "wrong"},
            {t: "12", v: "wrong"}
        ],
        points: 3
    },
    {
        text: "Цикл: нц пока X < 5; X := X + 2; кц. Начальное X = 1. Сколько раз выполнится тело цикла?",
        options: [
            {t: "1", v: "wrong"},
            {t: "2", v: "correct"},
            {t: "3", v: "wrong"},
            {t: "4", v: "wrong"},
            {t: "5", v: "wrong"},
            {t: "0", v: "wrong"},
            {t: "Бесконечно", v: "wrong"},
            {t: "Не выполнится", v: "wrong"}
        ],
        points: 3
    },
    {
        text: "Алгоритм: A=5; B=7; если A>B то C:=A иначе C:=B все. Чему равно C?",
        options: [
            {t: "5", v: "wrong"},
            {t: "7", v: "correct"},
            {t: "12", v: "wrong"},
            {t: "2", v: "wrong"},
            {t: "35", v: "wrong"},
            {t: "0", v: "wrong"},
            {t: "1", v: "wrong"},
            {t: "Не определено", v: "wrong"}
        ],
        points: 3
    },
    {
        text: "Алгоритм обмена значениями двух переменных без третьей для чисел: X=10, Y=20. После выполнения X и Y будут:",
        options: [
            {t: "X=20, Y=10", v: "correct"},
            {t: "X=10, Y=20", v: "wrong"},
            {t: "X=30, Y=30", v: "wrong"},
            {t: "X=0, Y=0", v: "wrong"},
            {t: "X=10, Y=10", v: "wrong"},
            {t: "X=20, Y=20", v: "wrong"},
            {t: "X=15, Y=15", v: "wrong"},
            {t: "X=5, Y=5", v: "wrong"}
        ],
        points: 3
    },
    {
        text: "Линейный алгоритм: X:=2; Y:=X*X; Y:=Y*Y; X:=Y*X; S:=X+Y. Чему равно S?",
        options: [
            {t: "48", v: "correct"},
            {t: "32", v: "wrong"},
            {t: "64", v: "wrong"},
            {t: "16", v: "wrong"},
            {t: "80", v: "wrong"},
            {t: "96", v: "wrong"},
            {t: "24", v: "wrong"},
            {t: "12", v: "wrong"}
        ],
        points: 3
    },
    {
        text: "Исполнитель Робот: если справа свободно то вправо все; если сверху стена то закрасить все. Начальная позиция: справа свободно, сверху стена. Что сделает Робот?",
        options: [
            {t: "Сдвинется вправо и закрасит клетку", v: "wrong"},
            {t: "Закрасит текущую клетку", v: "wrong"},
            {t: "Сдвинется вправо", v: "correct"},
            {t: "Ничего не сделает", v: "wrong"},
            {t: "Сдвинется вправо, потом закрасит", v: "wrong"},
            {t: "Закрасит, потом сдвинется", v: "wrong"},
            {t: "Разрушится", v: "wrong"},
            {t: "Сдвинется вверх", v: "wrong"}
        ],
        points: 3
    },
    {
        text: "Алгоритм: нц пока A < 10; A := A + 3; кц. Начальное A = 0. Какое значение будет у A после выполнения?",
        options: [
            {t: "9", v: "wrong"},
            {t: "10", v: "wrong"},
            {t: "12", v: "correct"},
            {t: "15", v: "wrong"},
            {t: "6", v: "wrong"},
            {t: "3", v: "wrong"},
            {t: "18", v: "wrong"},
            {t: "21", v: "wrong"}
        ],
        points: 3
    },
    {
        text: "Выражение: (X > 5) и (X < 10). При каком X выражение будет истинно?",
        options: [
            {t: "X = 3", v: "wrong"},
            {t: "X = 7", v: "correct"},
            {t: "X = 10", v: "wrong"},
            {t: "X = 12", v: "wrong"},
            {t: "X = 5", v: "wrong"},
            {t: "X = 0", v: "wrong"},
            {t: "X = 15", v: "wrong"},
            {t: "X = -5", v: "wrong"}
        ],
        points: 3
    },
    {
        text: "Таблица: A[1]=5, A[2]=10, A[3]=15. Чему равно A[1] + A[3]?",
        options: [
            {t: "15", v: "wrong"},
            {t: "20", v: "correct"},
            {t: "25", v: "wrong"},
            {t: "30", v: "wrong"},
            {t: "10", v: "wrong"},
            {t: "5", v: "wrong"},
            {t: "35", v: "wrong"},
            {t: "40", v: "wrong"}
        ],
        points: 3
    },
    {
        text: "Алгоритм для уравнения ax+b=0: если a≠0 то x=-b/a иначе если b≠0 то 'корней нет' иначе 'любое число'. При a=0, b=0 что выведет алгоритм?",
        options: [
            {t: "x=0", v: "wrong"},
            {t: "Корней нет", v: "wrong"},
            {t: "Любое число", v: "correct"},
            {t: "Бесконечно много корней", v: "wrong"},
            {t: "Один корень", v: "wrong"},
            {t: "Два корня", v: "wrong"},
            {t: "Ошибка", v: "wrong"},
            {t: "x=1", v: "wrong"}
        ],
        points: 3
    }
];