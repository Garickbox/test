// ВСЕГДА используй window. для глобальных переменных
window.TEST_CONFIG = {
    title: "ТЕСТ: Плотность вещества (7 класс)",
    totalQuestions: 20,
    totalProblems: 3,
    maxScore: 29,
    telegram: {
        botToken: "8344281396:AAGZ9-M2XRyPMHiI2akBSSIN7QAtRGDmLOY",
        chatId: "1189539923",
        parseMode: "Markdown",
        disableNotification: false
    },
    gradingScale: {
        5: 26,
        4: 21,
        3: 9,
        2: 0
    },
    anticheat: { password: "3265", blockTime: 180 },
    shuffleQuestions: true,
    shuffleOptions: true,
    showCorrectAnswer: true
};

// БАНК ВОПРОСОВ — 50 вопросов (2.5 раза больше чем 20)
window.questionsBank = [
    {
        text: "Что такое плотность вещества?",
        options: [
            {t: "Масса единицы объема этого вещества", v: "correct"},
            {t: "Объем единицы массы этого вещества", v: "wrong"},
            {t: "Сила притяжения вещества к Земле", v: "wrong"},
            {t: "Способность вещества проводить тепло", v: "wrong"}
        ],
        points: 1
    },
    {
        text: "В каких единицах измеряется плотность в СИ?",
        options: [
            {t: "кг/м³", v: "correct"},
            {t: "г/см³", v: "wrong"},
            {t: "Н/кг", v: "wrong"},
            {t: "м/с²", v: "wrong"}
        ],
        points: 1
    },
    {
        text: "Какой буквой обозначается плотность?",
        options: [
            {t: "ρ (ро)", v: "correct"},
            {t: "m", v: "wrong"},
            {t: "V", v: "wrong"},
            {t: "F", v: "wrong"}
        ],
        points: 1
    },
    {
        text: "По какой формуле вычисляется плотность?",
        options: [
            {t: "ρ = m/V", v: "correct"},
            {t: "ρ = V/m", v: "wrong"},
            {t: "ρ = m·V", v: "wrong"},
            {t: "ρ = m²/V", v: "wrong"}
        ],
        points: 1
    },
    {
        text: "Если масса тела 10 кг, а объем 2 м³, какова плотность?",
        options: [
            {t: "5 кг/м³", v: "correct"},
            {t: "20 кг/м³", v: "wrong"},
            {t: "0.2 кг/м³", v: "wrong"},
            {t: "12 кг/м³", v: "wrong"}
        ],
        points: 1
    },
    {
        text: "Что плотнее: 1 кг железа или 1 кг ваты?",
        options: [
            {t: "Плотности одинаковы, так как массы равны", v: "wrong"},
            {t: "Железо плотнее, так как при одинаковой массы занимает меньший объем", v: "correct"},
            {t: "Вата плотнее, так как она мягче", v: "wrong"},
            {t: "Нельзя сравнить, не зная объемов", v: "wrong"}
        ],
        points: 1
    },
    {
        text: "Как изменится плотность тела, если его разрезать пополам?",
        options: [
            {t: "Уменьшится вдвое", v: "wrong"},
            {t: "Увеличится вдвое", v: "wrong"},
            {t: "Не изменится", v: "correct"},
            {t: "Зависит от формы тела", v: "wrong"}
        ],
        points: 1
    },
    {
        text: "Почему дерево плавает на воде?",
        options: [
            {t: "Потому что оно легкое", v: "wrong"},
            {t: "Потому что его плотность меньше плотности воды", v: "correct"},
            {t: "Потому что вода его выталкивает", v: "wrong"},
            {t: "Потому что дерево не намокает", v: "wrong"}
        ],
        points: 1
    },
    {
        text: "Что означает плотность воды 1000 кг/м³?",
        options: [
            {t: "1 м³ воды имеет массу 1000 кг", v: "correct"},
            {t: "1000 м³ воды имеют массу 1 кг", v: "wrong"},
            {t: "Вода весит 1000 Н", v: "wrong"},
            {t: "Плотность воды меняется каждую секунду", v: "wrong"}
        ],
        points: 1
    },
    {
        text: "Какое вещество из перечисленных имеет наименьшую плотность?",
        options: [
            {t: "Пробка", v: "correct"},
            {t: "Алюминий", v: "wrong"},
            {t: "Медь", v: "wrong"},
            {t: "Свинец", v: "wrong"}
        ],
        points: 1
    },
    {
        text: "Какое вещество из перечисленных имеет наибольшую плотность?",
        options: [
            {t: "Золото", v: "correct"},
            {t: "Серебро", v: "wrong"},
            {t: "Железо", v: "wrong"},
            {t: "Алюминий", v: "wrong"}
        ],
        points: 1
    },
    {
        text: "Если плотность алюминия 2700 кг/м³, то какая масса у куба алюминия со стороной 1 м?",
        options: [
            {t: "2700 кг", v: "correct"},
            {t: "270 кг", v: "wrong"},
            {t: "27 кг", v: "wrong"},
            {t: "2.7 кг", v: "wrong"}
        ],
        points: 1
    },
    {
        text: "Какой прибор используют для определения плотности жидкости?",
        options: [
            {t: "Ареометр", v: "correct"},
            {t: "Термометр", v: "wrong"},
            {t: "Барометр", v: "wrong"},
            {t: "Спидометр", v: "wrong"}
        ],
        points: 1
    },
    {
        text: "Плотность льда меньше плотности воды. Что из этого следует?",
        options: [
            {t: "Лед тонет в воде", v: "wrong"},
            {t: "Лед плавает на поверхности воды", v: "correct"},
            {t: "Лед и вода имеют одинаковую плотность при 0°C", v: "wrong"},
            {t: "Это невозможно", v: "wrong"}
        ],
        points: 1
    },
    {
        text: "Что произойдет с плотностью воздуха при нагревании?",
        options: [
            {t: "Увеличится", v: "wrong"},
            {t: "Уменьшится", v: "correct"},
            {t: "Не изменится", v: "wrong"},
            {t: "Сначала увеличится, потом уменьшится", v: "wrong"}
        ],
        points: 1
    },
    {
        text: "Какой ученый впервые определил плотность золотой короны?",
        options: [
            {t: "Архимед", v: "correct"},
            {t: "Ньютон", v: "wrong"},
            {t: "Эйнштейн", v: "wrong"},
            {t: "Паскаль", v: "wrong"}
        ],
        points: 1
    },
    {
        text: "Если тело плавает в жидкости, то его плотность...",
        options: [
            {t: "Больше плотности жидкости", v: "wrong"},
            {t: "Меньше плотности жидкости", v: "correct"},
            {t: "Равна плотности жидкости", v: "wrong"},
            {t: "Не связана с плотностью жидкости", v: "wrong"}
        ],
        points: 1
    },
    {
        text: "Плотность мрамора примерно равна...",
        options: [
            {t: "2700 кг/м³", v: "correct"},
            {t: "1000 кг/м³", v: "wrong"},
            {t: "800 кг/м³", v: "wrong"},
            {t: "11300 кг/м³", v: "wrong"}
        ],
        points: 1
    },
    {
        text: "Как найти объем тела, зная его массу и плотность?",
        options: [
            {t: "V = m/ρ", v: "correct"},
            {t: "V = ρ/m", v: "wrong"},
            {t: "V = m·ρ", v: "wrong"},
            {t: "V = m²/ρ", v: "wrong"}
        ],
        points: 1
    },
    {
        text: "Плотность бензина примерно 710 кг/м³. Что это означает?",
        options: [
            {t: "1 литр бензина имеет массу 0,71 кг", v: "correct"},
            {t: "1 кг бензина занимает объем 710 литров", v: "wrong"},
            {t: "Бензин в 7,1 раза легче воды", v: "wrong"},
            {t: "Плотность бензина постоянна при любой температуре", v: "wrong"}
        ],
        points: 1
    },
    {
        text: "Как найти массу тела, зная его плотность и объем?",
        options: [
            {t: "m = ρ·V", v: "correct"},
            {t: "m = V/ρ", v: "wrong"},
            {t: "m = ρ/V", v: "wrong"},
            {t: "m = ρ²·V", v: "wrong"}
        ],
        points: 1
    },
    {
        text: "Почему масло образует пленку на поверхности воды?",
        options: [
            {t: "Плотность масла меньше плотности воды", v: "correct"},
            {t: "Масло тяжелее воды", v: "wrong"},
            {t: "Масло растворяется в воде", v: "wrong"},
            {t: "Вода отталкивает масло", v: "wrong"}
        ],
        points: 1
    },
    {
        text: "Что такое относительная плотность?",
        options: [
            {t: "Отношение плотности вещества к плотности воды", v: "correct"},
            {t: "Разность плотностей двух веществ", v: "wrong"},
            {t: "Плотность при различных температурах", v: "wrong"},
            {t: "Изменение плотности со временем", v: "wrong"}
        ],
        points: 1
    },
    {
        text: "Если относительная плотность вещества 2,5, то это значит, что оно...",
        options: [
            {t: "В 2,5 раза плотнее воды", v: "correct"},
            {t: "В 2,5 раза легче воды", v: "wrong"},
            {t: "Имеет плотность 2,5 кг/м³", v: "wrong"},
            {t: "Занимает в 2,5 раза больший объем, чем вода", v: "wrong"}
        ],
        points: 1
    },
    {
        text: "Плотность тела можно определить экспериментально с помощью...",
        options: [
            {t: "Весов и мензурки", v: "correct"},
            {t: "Линейки и термометра", v: "wrong"},
            {t: "Барометра и компаса", v: "wrong"},
            {t: "Динамометра и секундомера", v: "wrong"}
        ],
        points: 1
    },
    {
        text: "Какое утверждение о плотности верно?",
        options: [
            {t: "Плотность — характеристика вещества", v: "correct"},
            {t: "Плотность зависит от формы тела", v: "wrong"},
            {t: "Плотность измеряется в килограммах", v: "wrong"},
            {t: "Плотность всех газов больше плотности жидкостей", v: "wrong"}
        ],
        points: 1
    },
    {
        text: "Если два тела имеют одинаковый объем, но разную массу, то...",
        options: [
            {t: "Тело с большей массой имеет большую плотность", v: "correct"},
            {t: "Тела имеют одинаковую плотность", v: "wrong"},
            {t: "Тело с меньшей массой имеет большую плотность", v: "wrong"},
            {t: "Невозможно сравнить их плотности", v: "wrong"}
        ],
        points: 1
    },
    {
        text: "Металлический шар и деревянный шар одинакового объема. Что можно сказать об их плотностях?",
        options: [
            {t: "Металлический шар имеет большую плотность", v: "correct"},
            {t: "Деревянный шар имеет большую плотность", v: "wrong"},
            {t: "Плотности одинаковы", v: "wrong"},
            {t: "Недостаточно информации", v: "wrong"}
        ],
        points: 1
    },
    {
        text: "Что такое 1 г/см³?",
        options: [
            {t: "Плотность воды", v: "correct"},
            {t: "Плотность золота", v: "wrong"},
            {t: "Плотность воздуха", v: "wrong"},
            {t: "Плотность льда", v: "wrong"}
        ],
        points: 1
    },
    {
        text: "Как перевести плотность из г/см³ в кг/м³?",
        options: [
            {t: "Умножить на 1000", v: "correct"},
            {t: "Разделить на 1000", v: "wrong"},
            {t: "Умножить на 100", v: "wrong"},
            {t: "Разделить на 100", v: "wrong"}
        ],
        points: 1
    },
    {
        text: "Плотность стали 7800 кг/м³. Выразите в г/см³.",
        options: [
            {t: "7,8 г/см³", v: "correct"},
            {t: "0,78 г/см³", v: "wrong"},
            {t: "78 г/см³", v: "wrong"},
            {t: "780 г/см³", v: "wrong"}
        ],
        points: 1
    },
    {
        text: "При охлаждении плотность большинства веществ...",
        options: [
            {t: "Увеличивается", v: "correct"},
            {t: "Уменьшается", v: "wrong"},
            {t: "Не изменяется", v: "wrong"},
            {t: "Сначала уменьшается, потом увеличивается", v: "wrong"}
        ],
        points: 1
    },
    {
        text: "Исключение из правила об увеличении плотности при охлаждении — это...",
        options: [
            {t: "Вода при переходе в лед", v: "correct"},
            {t: "Железо при плавлении", v: "wrong"},
            {t: "Медь при нагревании", v: "wrong"},
            {t: "Золото при охлаждении", v: "wrong"}
        ],
        points: 1
    },
    {
        text: "Плотность свинца 11300 кг/м³. Каков объем свинцового бруска массой 1 кг?",
        options: [
            {t: "Примерно 0,0000885 м³", v: "correct"},
            {t: "Примерно 0,113 м³", v: "wrong"},
            {t: "Примерно 0,0113 м³", v: "wrong"},
            {t: "Примерно 11300 м³", v: "wrong"}
        ],
        points: 1
    },
    {
        text: "Как зависит плотность газа от давления?",
        options: [
            {t: "Плотность увеличивается при увеличении давления", v: "correct"},
            {t: "Плотность уменьшается при увеличении давления", v: "wrong"},
            {t: "Не зависит от давления", v: "wrong"},
            {t: "Зависит только от температуры", v: "wrong"}
        ],
        points: 1
    },
    {
        text: "Почему теплый воздух поднимается вверх?",
        options: [
            {t: "Его плотность меньше, чем у холодного воздуха", v: "correct"},
            {t: "Его плотность больше, чем у холодного воздуха", v: "wrong"},
            {t: "Он легче всех других газов", v: "wrong"},
            {t: "На него действует сила Архимеда", v: "wrong"}
        ],
        points: 1
    },
    {
        text: "Какое из этих тел имеет наименьшую плотность?",
        options: [
            {t: "Воздушный шар, наполненный гелием", v: "correct"},
            {t: "Деревянный брусок", v: "wrong"},
            {t: "Стеклянная бутылка", v: "wrong"},
            {t: "Железный гвоздь", v: "wrong"}
        ],
        points: 1
    },
    {
        text: "Что такое ареометр?",
        options: [
            {t: "Прибор для измерения плотности жидкостей", v: "correct"},
            {t: "Прибор для измерения атмосферного давления", v: "wrong"},
            {t: "Прибор для измерения силы тока", v: "wrong"},
            {t: "Прибор для измерения температуры", v: "wrong"}
        ],
        points: 1
    },
    {
        text: "Плотность тела 800 кг/м³. Будет ли оно плавать в воде?",
        options: [
            {t: "Да, так как 800 < 1000", v: "correct"},
            {t: "Нет, так как 800 > 0", v: "wrong"},
            {t: "Нет, так как оно слишком легкое", v: "wrong"},
            {t: "Да, но только в морской воде", v: "wrong"}
        ],
        points: 1
    },
    {
        text: "Если тело тонет в воде, то его плотность...",
        options: [
            {t: "Больше 1000 кг/м³", v: "correct"},
            {t: "Меньше 1000 кг/м³", v: "wrong"},
            {t: "Равна 1000 кг/м³", v: "wrong"},
            {t: "Нельзя определить по этому факту", v: "wrong"}
        ],
        points: 1
    },
    {
        text: "Металлический куб имеет ребро 10 см и массу 7 кг. Какова его плотность?",
        options: [
            {t: "7000 кг/м³", v: "correct"},
            {t: "70 кг/м³", v: "wrong"},
            {t: "700 кг/м³", v: "wrong"},
            {t: "7 г/см³", v: "wrong"}
        ],
        points: 1
    },
    {
        text: "Почему подводная лодка может всплывать и погружаться?",
        options: [
            {t: "Изменяя свою среднюю плотность", v: "correct"},
            {t: "Изменяя форму корпуса", v: "wrong"},
            {t: "Используя пропеллеры", v: "wrong"},
            {t: "Нагревая или охлаждая корпус", v: "wrong"}
        ],
        points: 1
    },
    {
        text: "Какая плотность у человека?",
        options: [
            {t: "Примерно как у воды (немного меньше)", v: "correct"},
            {t: "Как у железа", v: "wrong"},
            {t: "Как у воздуха", v: "wrong"},
            {t: "Как у пробки", v: "wrong"}
        ],
        points: 1
    },
    {
        text: "Почему человек легко плавает в Мертвом море?",
        options: [
            {t: "Плотность воды Мертвого моря очень высокая", v: "correct"},
            {t: "Температура воды очень высокая", v: "wrong"},
            {t: "Человек становится легче в соленой воде", v: "wrong"},
            {t: "В Мертвом море нет волн", v: "wrong"}
        ],
        points: 1
    },
    {
        text: "Если плотность раствора соли увеличивается, то...",
        options: [
            {t: "Концентрация соли в растворе увеличивается", v: "correct"},
            {t: "Концентрация соли уменьшается", v: "wrong"},
            {t: "Раствор становится менее соленым", v: "wrong"},
            {t: "Температура раствора понижается", v: "wrong"}
        ],
        points: 1
    },
    {
        text: "Какая плотность у чистого золота?",
        options: [
            {t: "Около 19300 кг/м³", v: "correct"},
            {t: "Около 11300 кг/м³", v: "wrong"},
            {t: "Около 2700 кг/м³", v: "wrong"},
            {t: "Около 1000 кг/м³", v: "wrong"}
        ],
        points: 1
    },
    {
        text: "Почему пустые пластиковые бутылки плавают на воде?",
        options: [
            {t: "Их средняя плотность меньше плотности воды", v: "correct"},
            {t: "Пластик легче всех материалов", v: "wrong"},
            {t: "Воздух внутри бутылки делает ее невесомой", v: "wrong"},
            {t: "Вода отталкивает пластик", v: "wrong"}
        ],
        points: 1
    },
    {
        text: "Если наполнить пластиковую бутылку водой, она...",
        options: [
            {t: "Утонет", v: "correct"},
            {t: "Будет плавать так же", v: "wrong"},
            {t: "Будет плавать выше", v: "wrong"},
            {t: "Всплывет быстрее", v: "wrong"}
        ],
        points: 1
    },
    {
        text: "Плотность меда примерно 1400 кг/м³. Что произойдет, если капнуть мед в воду?",
        options: [
            {t: "Мед опустится на дно", v: "correct"},
            {t: "Мед будет плавать на поверхности", v: "wrong"},
            {t: "Мед растворится в воде", v: "wrong"},
            {t: "Мед смешается с водой равномерно", v: "wrong"}
        ],
        points: 1
    },
    {
        text: "Как называется закон, открытый Архимедом?",
        options: [
            {t: "Закон Архимеда о выталкивающей силе", v: "correct"},
            {t: "Закон Архимеда о плотности", v: "wrong"},
            {t: "Закон Архимеда о плавании тел", v: "wrong"},
            {t: "Закон Архимеда о равновесии жидкостей", v: "wrong"}
        ],
        points: 1
    },
    {
        text: "Что означает выражение «легкий как пух» с точки зрения плотности?",
        options: [
            {t: "Пух имеет очень маленькую плотность", v: "correct"},
            {t: "Пух не имеет массы", v: "wrong"},
            {t: "Пух занимает очень маленький объем", v: "wrong"},
            {t: "Пух состоит из воздуха", v: "wrong"}
        ],
        points: 1
    },
    {
        text: "Какая плотность у гранита?",
        options: [
            {t: "2600-2700 кг/м³", v: "correct"},
            {t: "1000-1100 кг/м³", v: "wrong"},
            {t: "800-900 кг/м³", v: "wrong"},
            {t: "1800-1900 кг/м³", v: "wrong"}
        ],
        points: 1
    },
    {
        text: "Почему для постройки кораблей используют сталь, хотя она тонет в воде?",
        options: [
            {t: "Корабль имеет полости с воздухом, что уменьшает среднюю плотность", v: "correct"},
            {t: "Сталь становится легче в морской воде", v: "wrong"},
            {t: "Двигатели удерживают корабль на поверхности", v: "wrong"},
            {t: "Форма корабля делает его непотопляемым", v: "wrong"}
        ],
        points: 1
    }
];

// БАНК ЗАДАЧ — 9 задач (3 раза больше чем 3)
window.problemsBank = [
    // Уровень 1: прямая подстановка в формулу (3 задачи)
    {
        text: "Масса медного шара 890 г, а объем 100 см³. Рассчитайте плотность меди в г/см³ и кг/м³.",
        options: [
            {t: "8,9 г/см³ и 8900 кг/м³", v: "correct"},
            {t: "0,89 г/см³ и 890 кг/м³", v: "wrong"},
            {t: "89 г/см³ и 89000 кг/м³", v: "wrong"},
            {t: "0,112 г/см³ и 112 кг/м³", v: "wrong"}
        ],
        points: 3
    },
    {
        text: "Объем стального бруска 0,5 м³. Плотность стали 7800 кг/м³. Найдите массу бруска.",
        options: [
            {t: "3900 кг", v: "correct"},
            {t: "15600 кг", v: "wrong"},
            {t: "780 кг", v: "wrong"},
            {t: "1950 кг", v: "wrong"}
        ],
        points: 3
    },
    {
        text: "Масса алюминиевого кубика 540 г. Плотность алюминия 2,7 г/см³. Найдите объем кубика.",
        options: [
            {t: "200 см³", v: "correct"},
            {t: "1458 см³", v: "wrong"},
            {t: "20 см³", v: "wrong"},
            {t: "540 см³", v: "wrong"}
        ],
        points: 3
    },
    // Уровень 2: несколько шагов, преобразования (3 задачи)
    {
        text: "Деревянный брусок имеет размеры 20 см × 10 см × 5 см. Его масса 0,6 кг. Найдите плотность дерева в кг/м³.",
        options: [
            {t: "600 кг/м³", v: "correct"},
            {t: "60 кг/м³", v: "wrong"},
            {t: "6000 кг/м³", v: "wrong"},
            {t: "240 кг/м³", v: "wrong"}
        ],
        points: 3
    },
    {
        text: "Сколько весит (масса в кг) 5 литров подсолнечного масла, если его плотность 930 кг/м³?",
        options: [
            {t: "4,65 кг", v: "correct"},
            {t: "0,465 кг", v: "wrong"},
            {t: "46,5 кг", v: "wrong"},
            {t: "9,3 кг", v: "wrong"}
        ],
        points: 3
    },
    {
        text: "Железный шар диаметром 10 см (радиус 5 см). Плотность железа 7800 кг/м³. Найдите массу шара. Объем шара V = (4/3)πR³.",
        options: [
            {t: "Около 4,08 кг", v: "correct"},
            {t: "Около 8,16 кг", v: "wrong"},
            {t: "Около 2,04 кг", v: "wrong"},
            {t: "Около 1,02 кг", v: "wrong"}
        ],
        points: 3
    },
    // Уровень 3: анализ, графики, комбинации (3 задачи)
    {
        text: "Сплав состоит из 300 г олова (плотность 7300 кг/м³) и 100 г свинца (плотность 11300 кг/м³). Найдите среднюю плотность сплава в г/см³.",
        options: [
            {t: "Около 8,1 г/см³", v: "correct"},
            {t: "Около 9,3 г/см³", v: "wrong"},
            {t: "Около 7,5 г/см³", v: "wrong"},
            {t: "Около 10,2 г/см³", v: "wrong"}
        ],
        points: 3
    },
    {
        text: "В мензурку с водой опустили металлический цилиндр. Объем воды увеличился с 200 мл до 350 мл. Масса цилиндра 1,17 кг. Из какого металла может быть цилиндр?",
        options: [
            {t: "Алюминий (2700 кг/м³)", v: "correct"},
            {t: "Железо (7800 кг/м³)", v: "wrong"},
            {t: "Свинец (11300 кг/м³)", v: "wrong"},
            {t: "Медь (8900 кг/м³)", v: "wrong"}
        ],
        points: 3
    },
    {
        text: "Полый медный шар (плотность меди 8900 кг/м³) весит на воздухе 1,78 Н, а в воде — 1,36 Н. Каков объем полости внутри шара? g=10 Н/кг.",
        options: [
            {t: "Около 10 см³", v: "correct"},
            {t: "Около 20 см³", v: "wrong"},
            {t: "Около 5 см³", v: "wrong"},
            {t: "Около 15 см³", v: "wrong"}
        ],
        points: 3
    }
];